<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layouts/layout}">
<head>
    <link rel="stylesheet" th:href="@{/css/pages.css}">
    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>
</head>
<body>
<div layout:fragment="main-content" th:class="container">
    <div class="row">
        <div class="col-3">
<!--            User : <div sec:authentication="name"></div>-->
<!--            <input type="hidden" id="username" sec:authentication="principal.username" th:value='${authentication}'>-->
        </div>
        <div class="col-6 ">
            <div class="card">
                <div class="card-header">Chat</div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <ul id="msg_list">
                            <li id="msg_cnt" th:each="msg: ${messages}" th:text="${msg.message}"></li>
                        </ul>
                    </li>
                    <li class="list-group-item">
                        <form id="chatForm">
                            <input type="text" id="messageInput" placeholder="Type a message...">
                            <button type="submit">Send</button>
                        </form>
                        <script th:src="@{/js/app.js}"></script>
                    </li>
                </ul>
            </div>
        </div>
        <div class="col-3 text-center">
            <form class="form-signin" method="post" action="/logout">
                <button id="lgt" class="rounded" type="submit">Logout</button>
            </form>
        </div>
    </div>
</div>
</body>
</html>